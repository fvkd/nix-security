*** a/extensions/admin_ui/api/handler.rb	2021-06-06 19:21:55.761018493 -0400
--- b/extensions/admin_ui/api/handler.rb	2021-06-06 19:24:47.473421824 -0400
*************** module API
*** 37,43 ****
          print_more "[AdminUI] Ensure nodejs is installed and `node' is in `$PATH` !"
          minified = evaluated
        end
!       write_to = File.new("#{File.dirname(__FILE__)}/../media/javascript-min/#{name}.js", "w+")
        File.open(write_to, 'w') { |file| file.write(minified) }
  
        File.path write_to
--- 37,44 ----
          print_more "[AdminUI] Ensure nodejs is installed and `node' is in `$PATH` !"
          minified = evaluated
        end
!       FileUtils.mkdir_p("#{File.expand_path("#{Dir.home}/.beef/", __FILE__).freeze}/media/javascript-min")
!       write_to = File.new("#{File.expand_path("#{Dir.home}/.beef/", __FILE__).freeze}/media/javascript-min/#{name}.js", "w+")
        File.open(write_to, 'w') { |file| file.write(minified) }
  
        File.path write_to
*************** module API
*** 130,135 ****
--- 131,137 ----
        # mount the folder were we store static files (javascript, css, images, audio) for the admin ui
        media_dir = File.dirname(__FILE__)+'/../media/'
        beef_server.mount("#{bp}/media", Rack::File.new(media_dir))
+       beef_server.mount("#{bp}/media/javascript-min", Rack::File.new("#{File.expand_path("#{Dir.home}/.beef/", __FILE__).freeze}/media/javascript-min"))
  
        # If we're not imitating a web server, mount the favicon to /favicon.ico
        if !config.get("beef.http.web_server_imitation.enable")
