{ lib, python3Packages, fetchFromGitHub, callPackage, ... }:

let
  pythonDeps = callPackage ./python-env.nix {
    pythonPackages = python3Packages;
  };
in python3Packages.buildPythonApplication {
  name = "termineter";
  version = "2020-08-24";

  src = fetchFromGitHub {
    owner = "rsmusllp";
    repo = "termineter";
    rev = "ba06b3e46d368d57a4acadb1d61080c35aac5c8b";
    sha256 = "Tj+vXb85sPxkI2Hc6ncNkoCn3CwbKbL7ar2YdjV3rT0=";
  };

  propagatedBuildInputs = [
    pythonDeps.crcelk
    pythonDeps.pluginbase
    pythonDeps.pyasn1
    pythonDeps.pyserial
    pythonDeps.smoke-zephyr
    pythonDeps.tabulate
    pythonDeps.termcolor
  ];
}
