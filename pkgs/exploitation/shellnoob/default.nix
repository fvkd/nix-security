{ stdenv, lib, fetchFromGitLab, python3, ...}:

stdenv.mkDerivation {
  name = "shellnoob";
  version = "2.1";
  src = fetchFromGitLab {
    owner = "kalilinux/packages";
    repo = "shellnoob";
    rev = "129a18dfb713e65ca79b7a784774e48b8a2b5694";
    sha256 = "gwHpWt9iXbXYHx5C9l7JCB3k1vF1TM/cg/cpBorVKgQ=";
  };

  installPhase = ''
    mkdir -p $out/bin
    sed -i 's;/usr/bin/env python;${python3}/bin/python3;g' shellnoob.py
    cp shellnoob.py $out/bin/shellnoob
  '';
}
